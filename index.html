<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to MINE</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: black;
            color: white;
            font-family:'Times New Roman', Times, serif;
            font-weight: bold;
            overflow: hidden;
        }
        ul {
            list-style-type: none;
        }
        li:not(:last-child) {
            margin-bottom: 10px;
        }
        #main_content {
            position: relative;
            margin:0;
        }

        .carousel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }


        #menu {
            position:absolute;
            top:0;
            left:0; 
            width:fit-content;                     
            z-index: 9999;
            padding: 10px;  
            color: white;    
            border-radius: 5px;
        }
        

       #zonesub {
            position: relative;
        }

        #zonesub ul {
            position: absolute;
            left: 80px; 
            top: 0;
            display: flex;
            flex-direction: row;
            gap: 15px;
            padding: 10px;
            white-space: nowrap;
            z-index: 9999;  
        }

        #zonesub ul li {
            display: none; 
            cursor: pointer;
            white-space: nowrap;
        }
        .scroller {
            overflow-x: auto;           
            display: flex;
            scroll-snap-type: x mandatory; 
            scroll-padding: 8px;
            height: 100%;
        }
        .slide {
            flex: 0 0 100%;               
            min-width: 100%;
            scroll-snap-align: center;    
            scroll-margin: 16px;
            min-height: 100%;
        }
        #main_content {
            position: relative;
            z-index: 1;
        }
       
        

    </style>
</head>
<body>
<div id="main_content">
  <div id="menu">
    <ul>
        <li id="entry">ENTRY</li>
        <li id="zonesub">ZONE
            <ul >
                <li data-target="s1">WW1</li>
                <li data-target="s2">AGAPE</li>
                <li data-target="s3">ABYSS</li>
            </ul>
        </li>
        <li>NOTICE</li>
    </ul>
  </div>

 
    <div class="carousel">
            <div class="slides scroller">
                <div id="s1" class="slide">
                    <video autoplay loop muted controls preload="auto">  <source src="mp4/sceneone.mp4" type="video/mp4"></video>
                </div>
                <div id="s2" class="slide">
                     <video autoplay loop muted controls preload="auto">  <source src="mp4/scenetwo.mp4" type="video/mp4"></video>
                </div>
                <div id="s3" class="slide">
                    <video autoplay loop muted controls preload="auto">  <source src="mp4/scenethree.mp4" type="video/mp4"></video>
                </div>
            </div>
    </div>
</div>

  

  <div id="login_canvas">
    <canvas id="login"></canvas>
  </div>
  <script>

    let zonesub = document.querySelector("#zonesub");
    let zonesubli = document.querySelectorAll("li#zonesub ul li"); 
    let login_canvas = document.querySelector("#login_canvas");
    let entry = document.querySelector("#entry");
   

    window.onload = function(){

       zonesubli.forEach(item => {item.style.display = "none";}); 

        let isOpen = false; 

        //alternative showoff
        zonesub.addEventListener("click", function () {
            isOpen = !isOpen;
            zonesubli.forEach(sub => {
                sub.style.display = isOpen ? "block" : "none";
            });
        });
    

        let sliderContainer = document.querySelector("div.slides.scroller");
        let slides = document.querySelectorAll("div.slide");

        let currentIndex = 0;
        let slider;

        function startSlider() {
            slider = setInterval(() => {
                currentIndex = (currentIndex + 1) % slides.length;
                sliderContainer.scrollTo({
                    left: slides[currentIndex].offsetLeft,
                    behavior: "smooth"
                });
            }, 8000);
        }

       
        startSlider();
        
        zonesubli.forEach(item => {
            item.addEventListener("click", (e) => {
                e.stopPropagation(); 
                const targetId = e.target.dataset && e.target.dataset.target;
                if (!targetId) return;
                const target = document.getElementById(targetId);
                if (!target) return;

                target.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                clearInterval(slider);
            });
        });


       //login
       login_canvas.style.display = "none";
       login_canvas_width = window.innerWidth/2;
       login_canvas_top = window.innerHeight/3;

       entry.addEventListener("click",function(){
        window.open("#", "popupWindow", `width=${login_canvas_width},height=400,left=${login_canvas_width/2},top=${login_canvas_top}`);
       })

       
       

      

    }

  </script>             
</body>
</html>